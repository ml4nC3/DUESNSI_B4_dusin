<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Correction</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css"
          rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1"
          crossorigin="anonymous">
    <link href="{{ url_for('static', path='/prism.css') }}" rel="stylesheet">
</head>
<body>
    <div class="main-content">
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <a class="navbar-brand" href="#">
            <img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjxzdmcgZGF0YS1uYW1lPSJMYXllciAyIiBpZD0iTGF5ZXJfMiIgdmlld0JveD0iMCAwIDY0IDY0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxkZWZzPjxzdHlsZT4uY2xzLTF7ZmlsbDojNDVkNGQ5O30uY2xzLTJ7ZmlsbDojMmQ5NWI1O30uY2xzLTN7ZmlsbDojZmZlOTRmO30uY2xzLTR7ZmlsbDojMmMyYTNkO308L3N0eWxlPjwvZGVmcz48dGl0bGUvPjxyZWN0IGNsYXNzPSJjbHMtMSIgaGVpZ2h0PSI1OCIgcng9IjIiIHJ5PSIyIiB3aWR0aD0iNDQiIHg9IjEwIiB5PSIzIi8+PHBhdGggY2xhc3M9ImNscy0yIiBkPSJNMTIsM0g1MmEyLDIsMCwwLDEsMiwyVjZhMCwwLDAsMCwxLDAsMEgxMGEwLDAsMCwwLDEsMCwwVjVBMiwyLDAsMCwxLDEyLDNaIi8+PHJlY3QgY2xhc3M9ImNscy0zIiBoZWlnaHQ9IjM2IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2NCkgcm90YXRlKDkwKSIgd2lkdGg9IjUwIiB4PSI3IiB5PSIxNCIvPjxwYXRoIGNsYXNzPSJjbHMtNCIgZD0iTTUyLDJIMTJBMywzLDAsMCwwLDksNVY1OWEzLDMsMCwwLDAsMywzSDUyYTMsMywwLDAsMCwzLTNWNUEzLDMsMCwwLDAsNTIsMlpNMzksNFY2SDI1VjRaTTI1LDEySDM5YTIsMiwwLDAsMCwyLTJWOGg4VjU2SDE1VjhoOHYyQTIsMiwwLDAsMCwyNSwxMlptMTQtMkgyNVY4SDM5Wk01Myw1OWExLDEsMCwwLDEtMSwxSDEyYTEsMSwwLDAsMS0xLTFWNWExLDEsMCwwLDEsMS0xSDIzVjZIMTRhMSwxLDAsMCwwLTEsMVY1N2ExLDEsMCwwLDAsMSwxSDUwYTEsMSwwLDAsMCwxLTFWN2ExLDEsMCwwLDAtMS0xSDQxVjRINTJhMSwxLDAsMCwxLDEsMVoiLz48cGF0aCBjbGFzcz0iY2xzLTQiIGQ9Ik0yMi4yNSwxOWgtMWExLDEsMCwwLDAsMCwyaDFhMSwxLDAsMCwwLDAtMloiLz48cGF0aCBjbGFzcz0iY2xzLTQiIGQ9Ik0yMi4yNSwyN2gtMWExLDEsMCwwLDAsMCwyaDFhMSwxLDAsMCwwLDAtMloiLz48cGF0aCBjbGFzcz0iY2xzLTQiIGQ9Ik0yMi4yNSwzNWgtMWExLDEsMCwwLDAsMCwyaDFhMSwxLDAsMCwwLDAtMloiLz48cGF0aCBjbGFzcz0iY2xzLTQiIGQ9Ik0yMi4yNSw0M2gtMWExLDEsMCwwLDAsMCwyaDFhMSwxLDAsMCwwLDAtMloiLz48cGF0aCBjbGFzcz0iY2xzLTQiIGQ9Ik0yOC43NSwyMWgxNGExLDEsMCwwLDAsMC0yaC0xNGExLDEsMCwwLDAsMCwyWiIvPjxwYXRoIGNsYXNzPSJjbHMtNCIgZD0iTTI4Ljc1LDI5aDE0YTEsMSwwLDAsMCwwLTJoLTE0YTEsMSwwLDAsMCwwLDJaIi8+PHBhdGggY2xhc3M9ImNscy00IiBkPSJNMjguNzUsMzdoMTRhMSwxLDAsMCwwLDAtMmgtMTRhMSwxLDAsMCwwLDAsMloiLz48cGF0aCBjbGFzcz0iY2xzLTQiIGQ9Ik0yOC43NSw0NWgxNGExLDEsMCwwLDAsMC0yaC0xNGExLDEsMCwwLDAsMCwyWiIvPjwvc3ZnPg==" width="30" height="30" alt="">
        </a>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item">
                    <a class="nav-link" href="#">Elève précédent</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Elève suivant</a>
                </li>
            </ul>
        </div>
        </nav>
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-8 align-self-start">
                    <h2>Rendu de la page élève</h2>
                    <iframe src="{{ fichiers['index.html'].path }}" frameborder="1" style="width: 100%; height: 85vh"></iframe>
                </div>
                <!-- /.rendu -->

                <div class="col-md-4">
                        <div style="width: 70%; display:inline-block; background-color: #a6e22e">
                            <h2>Sources de la page</h2>
                        </div>
                        <div style="width: 25%; display:inline-block;" onchange="update_source()" >
                            <select name="sources" id="sources_selector">
                                <option value="index.html">index.html</option>
                                <option value="styles.css">styles.css</option>
                            </select>
                            <!-- /# -->
                        </div>

                        <pre style="height: 85vh; overflow-y:auto">
                            <code class="language-html" id="source_code">
                                <!--Le javascript charge le code source-->
                            </code>
                        </pre>
                </div>
                <!-- /.source -->
            </div>
            <!-- /.row -->
        </div>
        <!-- /.container -->
    </div>
    <script src="{{ url_for('static', path='/prism.js') }}" data-manual></script>
    <script>
        let fichiers = {{ json|safe }}

        // Initialisation de la page source
        let precode = document.getElementById("source_code")
        precode.textContent = fichiers["index.html"].source
        precode.className = "language-html"
        Prism.highlightElement(precode)

        function update_source() {
            let fichier = document.getElementById("sources_selector").value
            precode = document.getElementById("source_code")
            precode.textContent = fichiers[fichier].source
            precode.className = "language-" + fichiers[fichier].type

            Prism.highlightElement(precode)
        }
    </script>
</body>
</html>